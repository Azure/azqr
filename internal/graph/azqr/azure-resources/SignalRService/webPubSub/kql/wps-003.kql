// Azure Resource Graph Query
// Find Web PubSub services and report SLA based on tier
resources
| where type =~ 'Microsoft.SignalRService/webPubSub'
| extend skuTier = tostring(sku.tier)
| extend slaValue = case(
    skuTier == "Free", "None",
    "99.9%"
)
| project recommendationId = 'wps-003', name, id, tags, param1 = strcat(slaValue, " (Tier: ", skuTier, ")")
