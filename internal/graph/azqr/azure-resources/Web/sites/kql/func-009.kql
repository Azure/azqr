// Azure Resource Graph Query
// Find Function Apps that don't have VNET integration
resources
| where type =~ "Microsoft.Web/sites"
| where kind contains "function" and kind !contains "workflowapp"
| where isnull(properties.virtualNetworkSubnetId) or properties.virtualNetworkSubnetId == ""
| project recommendationId = "func-009", name, id, tags, param1 = "VNET integration not configured"
