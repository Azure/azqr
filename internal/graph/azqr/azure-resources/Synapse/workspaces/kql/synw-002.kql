// Azure Resource Graph Query
// Find Synapse Workspaces that don't have private endpoints enabled
resources
| where type =~ "Microsoft.Synapse/workspaces"
| where array_length(properties.privateEndpointConnections) == 0
| project recommendationId = "synw-002", name, id, tags, param1 = "No private endpoints configured"
